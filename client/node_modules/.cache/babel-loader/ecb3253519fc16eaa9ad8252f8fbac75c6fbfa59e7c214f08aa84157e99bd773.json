{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/derek/Desktop/Bootcamp/KU-VIRT-FSF-PT-05-2022-U-LOLC/Chat_Messeger_app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/derek/Desktop/Bootcamp/KU-VIRT-FSF-PT-05-2022-U-LOLC/Chat_Messeger_app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/derek/Desktop/Bootcamp/KU-VIRT-FSF-PT-05-2022-U-LOLC/Chat_Messeger_app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChatInput=function ChatInput(_ref){var user=_ref.user,clickedUser=_ref.clickedUser,getUserMessages=_ref.getUserMessages,getClickedUsersMessages=_ref.getClickedUsersMessages;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),textArea=_useState2[0],setTextArea=_useState2[1];var userId=user===null||user===void 0?void 0:user.user_id;var clickedUserId=clickedUser===null||clickedUser===void 0?void 0:clickedUser.user_id;var addMessage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:message={timestamp:new Date().toISOString(),from_userId:userId,to_userId:clickedUserId,message:textArea};_context.prev=1;_context.next=4;return axios.post('http://localhost:8000/message',{message:message});case 4:getUserMessages();getClickedUsersMessages();setTextArea(\"\");_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function addMessage(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-input\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:textArea,onChange:function onChange(e){return setTextArea(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-button\",onClick:addMessage,children:\"Submit\"})]});};export default ChatInput;","map":{"version":3,"names":["useState","axios","ChatInput","user","clickedUser","getUserMessages","getClickedUsersMessages","textArea","setTextArea","userId","user_id","clickedUserId","addMessage","message","timestamp","Date","toISOString","from_userId","to_userId","post","console","log","e","target","value"],"sources":["C:/Users/derek/Desktop/Bootcamp/KU-VIRT-FSF-PT-05-2022-U-LOLC/Chat_Messeger_app/client/src/components/ChatInput.js"],"sourcesContent":["import { useState} from 'react'\nimport axios from 'axios'\n\nconst ChatInput = ({ user, clickedUser, getUserMessages, getClickedUsersMessages }) => {\n    const [textArea, setTextArea] = useState(\"\")\n    const userId = user?.user_id\n    const clickedUserId = clickedUser?.user_id\n\n    const addMessage = async () => {\n        const message = {\n            timestamp: new Date().toISOString(),\n            from_userId: userId,\n            to_userId: clickedUserId,\n            message: textArea\n        }\n\n        try {\n            await axios.post('http://localhost:8000/message', { message })\n            getUserMessages()\n            getClickedUsersMessages()\n            setTextArea(\"\")\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n\n    return (\n        <div className=\"chat-input\">\n            <textarea value={textArea} onChange={(e) => setTextArea(e.target.value)}/>\n            <button className=\"secondary-button\" onClick={addMessage}>Submit</button>\n        </div>\n    )\n}\n\nexport default ChatInput"],"mappings":"ohBAAA,OAASA,QAAQ,KAAO,OAAO,CAC/B,MAAOC,MAAK,KAAM,OAAO,yFAEzB,GAAMC,UAAS,CAAG,QAAZA,UAAS,MAAwE,IAAlEC,KAAI,MAAJA,IAAI,CAAEC,WAAW,MAAXA,WAAW,CAAEC,eAAe,MAAfA,eAAe,CAAEC,uBAAuB,MAAvBA,uBAAuB,CAC5E,cAAgCN,QAAQ,CAAC,EAAE,CAAC,wCAArCO,QAAQ,eAAEC,WAAW,eAC5B,GAAMC,OAAM,CAAGN,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEO,OAAO,CAC5B,GAAMC,cAAa,CAAGP,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEM,OAAO,CAE1C,GAAME,WAAU,6FAAG,iJACTC,OAAO,CAAG,CACZC,SAAS,CAAE,GAAIC,KAAI,EAAE,CAACC,WAAW,EAAE,CACnCC,WAAW,CAAER,MAAM,CACnBS,SAAS,CAAEP,aAAa,CACxBE,OAAO,CAAEN,QACb,CAAC,uCAGSN,MAAK,CAACkB,IAAI,CAAC,+BAA+B,CAAE,CAAEN,OAAO,CAAPA,OAAQ,CAAC,CAAC,QAC9DR,eAAe,EAAE,CACjBC,uBAAuB,EAAE,CACzBE,WAAW,CAAC,EAAE,CAAC,gFAEfY,OAAO,CAACC,GAAG,aAAO,qEAEzB,kBAhBKT,WAAU,2CAgBf,CAGD,mBACI,aAAK,SAAS,CAAC,YAAY,wBACvB,iBAAU,KAAK,CAAEL,QAAS,CAAC,QAAQ,CAAE,kBAACe,CAAC,QAAKd,YAAW,CAACc,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,cAC1E,eAAQ,SAAS,CAAC,kBAAkB,CAAC,OAAO,CAAEZ,UAAW,oBAAgB,GACvE,CAEd,CAAC,CAED,cAAeV,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}